<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The universe talking to my kids</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
</head>
<body class="bg-gray-100 flex flex-col items-center justify-center min-h-screen">
    <div id="ios-warning" style="display: none; color: red; margin-top: 10px;">
        For the best experience on iOS, please use the "Request Desktop Site" option in Safari.
    </div>
    <div class="container mx-auto px-4">
        <h1 class="text-3xl font-bold text-center mb-4">The universe talking to my kids</h1>
        
        <div class="flex justify-center mb-4">
            <select id="ageSelect" class="border rounded p-2">
                <option value="5">5 years old</option>
                <option value="10">10 years old</option>
            </select>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-4">
            <div class="sound-button-container">
                <button class="sound-button" data-sound="moon">
                    <img src="{{ url_for('static', filename='images/moon.jpg') }}" alt="Moon" class="w-full h-auto rounded">
                </button>
                <p class="text-center mt-2">Moon</p>
            </div>
            <div class="sound-button-container">
                <button class="sound-button" data-sound="sun">
                    <img src="{{ url_for('static', filename='images/sun.jpg') }}" alt="Sun" class="w-full h-auto rounded">
                </button>
                <p class="text-center mt-2">Sun</p>
            </div>
            <div class="sound-button-container">
                <button class="sound-button" data-sound="rock">
                    <img src="{{ url_for('static', filename='images/rock.jpg') }}" alt="Rock" class="w-full h-auto rounded">
                </button>
                <p class="text-center mt-2">Rock</p>
            </div>
            <div class="sound-button-container">
                <button class="sound-button" data-sound="tree">
                    <img src="{{ url_for('static', filename='images/tree.jpg') }}" alt="Tree" class="w-full h-auto rounded">
                </button>
                <p class="text-center mt-2">Tree</p>
            </div>
        </div>

        <div class="flex justify-center space-x-4">
            {% if user %}
                <p>Welcome, {{ user['username'] }}!</p>
                <a href="{{ url_for('signout') }}" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">Sign Out</a>
            {% else %}
                <a href="{{ url_for('signup') }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Sign Up</a>
                <a href="{{ url_for('signin') }}" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Sign In</a>
            {% endif %}
        </div>
    </div>

    <div id="call-overlay" class="hidden fixed inset-0 flex flex-col items-center justify-center">
        <div class="bg-black bg-opacity-100 p-8 rounded-lg text-white w-full h-full flex flex-col items-center justify-center">
            <div id="call-timer" class="text-2xl mb-4">00:00</div>
            <div id="call-object-name" class="text-3xl mb-4"></div>
            <div class="visualizer-container mb-4">
                <canvas id="visualizer"></canvas>
            </div>
            <div id="listening-status" class="text-xl mb-4">Click to speak</div>
            <div class="flex space-x-4">
                <button id="audio-button" class="call-button">
                    <img src="{{ url_for('static', filename='images/audio-icon.svg') }}" alt="Audio" class="w-8 h-8">
                    <span>Audio</span>
                </button>
                <button id="facetime-button" class="call-button">
                    <img src="{{ url_for('static', filename='images/facetime-icon.svg') }}" alt="FaceTime" class="w-8 h-8">
                    <span>FaceTime</span>
                </button>
                <button id="mute-button" class="call-button">
                    <img src="{{ url_for('static', filename='images/mute-icon.svg') }}" alt="Mute" class="w-8 h-8">
                    <span>Mute</span>
                </button>
            </div>
            <button id="end-call-button" class="mt-4 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                End Call
            </button>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
